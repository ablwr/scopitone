<!DOCTYPE html>
<html>
<head>

  <link href='http://fonts.googleapis.com/css?family=Lobster+Two:700' rel='stylesheet' type='text/css'>

  <meta charset="utf-8" />
  <title>Scopitone Jukebox</title>

<!--   <link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.css" /> -->
<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="css/scrolling_test.scss" />

  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js">
  </script>
  <script src="js/scrolling.js" type="text/javascript" ></script>

</head>

<!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="small-logo-container">
            <a class="small-logo" href="#">Scopitone Jukebox</a>
          </div>
        </div>
        <div class="navbar-collapse collapse">
          
          <ul class="nav navbar-nav navbar-right">
            <li class="active"><a href="#">Active</a></li>
            <li><a href="#">Link</a></li>
            <li><a href="#">Link</a></li>
            <li><a href="#">Link</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container-fluid big-logo-row">
      <div class="container">
        <div class="row">
          <div class="col-xs-12 big-logo-container">
            <h1 class="big-logo">Scopitone Jukebox</h1>
          </div><!--/.col-xs-12 -->
        </div><!--/.row -->
      </div><!--/.container -->
    </div><!--/.container-fluid -->


  <body>
      <div id="wrapper">
        <div id="main">
          <div class="video-container">
            <div id="player">
            </div>
          </div>
        </div>
      </div>


<!-- Javascript time -->
    <script>

       var random_vids = [
        "Vow27wAwXvw",
        "sQ4X-A4rSgY",
        "0ZVKVCrtfDA",
        "XyUxjR8vKiM",
        "898oHCARiK4",
        "WoC33S0o6f0",
        "L6dyo2zfJVQ",
        "stOeGcDnsj8",
        "rk1-NaEXrmI",
        "z9kHj4FTgek",
        "1mBteyxYPtA",
        "Hkx4vUUqa0",
        "unjvxHtcpKQ",
        "YBCzUi67eZA",
        "IvZLA4En-ug",
        "dcq-RJ4lVe4"
    ];

    var array_pop = function(arr, i) {
        // slice() modifies the array in-place and returns an array
        // of the element we want.
        return arr.splice(i,1)[0]; 
    };

    var get_random_vid = function() {
        var i = Math.floor((Math.random()*random_vids.length));
        // Pops out the video ID we're using so we don't re-use
        return array_pop(random_vids, i);
    };

    var play_new_vid = function() {
        player.loadVideoById(get_random_vid());
    };

      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          videoId: get_random_vid(),
          playerVars: {
            controls: 0,
            showinfo: 0,
            loop: 1
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
        event.target.play_new_vid();
      }
    </script>

  </body>
</html>
